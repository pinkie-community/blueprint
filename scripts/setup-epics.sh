#!/bin/bash

# Epic Setup Script for pinkie-community
# GitHubã§ã®Epicé‹ç”¨ã®ãŸã‚ã®è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ

echo "ğŸ¯ pinkie-community Epic ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."

# ã‚«ãƒ©ãƒ¼å®šç¾©
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
RED='\033[0;31m'
PURPLE='\033[0;35m'
NC='\033[0m' # No Color

echo_success() {
    echo -e "${GREEN}âœ“ $1${NC}"
}

echo_info() {
    echo -e "${BLUE}â„¹ $1${NC}"
}

echo_epic() {
    echo -e "${PURPLE}ğŸ¯ $1${NC}"
}

# ãƒªãƒã‚¸ãƒˆãƒªã®ç¢ºèª
echo_info "ç¾åœ¨ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ç¢ºèªä¸­..."
REPO=$(gh repo view --json nameWithOwner --jq '.nameWithOwner')
echo_success "ãƒªãƒã‚¸ãƒˆãƒª: $REPO"

# Epicç”¨ãƒ©ãƒ™ãƒ«ã®è¿½åŠ 
echo_info "Epicç”¨ãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ä¸­..."

# ãƒ¡ã‚¤ãƒ³ã®Epicãƒ©ãƒ™ãƒ«
gh api repos/$REPO/labels \
    --method POST \
    --field name="epic" \
    --field description="å¤§ããªç‰©èªãƒ»é•·æœŸçš„ãªã‚´ãƒ¼ãƒ«" \
    --field color="8B5CF6" > /dev/null 2>&1 || \
gh api repos/$REPO/labels/epic \
    --method PATCH \
    --field name="epic" \
    --field description="å¤§ããªç‰©èªãƒ»é•·æœŸçš„ãªã‚´ãƒ¼ãƒ«" \
    --field color="8B5CF6" > /dev/null 2>&1

# Phase 1 Epic ãƒ©ãƒ™ãƒ«
gh api repos/$REPO/labels \
    --method POST \
    --field name="epic-1.1" \
    --field description="Epic 1.1: AIå¯ºå­å±‹åŸºç›¤æ•´å‚™" \
    --field color="C084FC" > /dev/null 2>&1 || true

gh api repos/$REPO/labels \
    --method POST \
    --field name="epic-1.2" \
    --field description="Epic 1.2: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åŸºç›¤æ§‹ç¯‰" \
    --field color="DDD6FE" > /dev/null 2>&1 || true

gh api repos/$REPO/labels \
    --method POST \
    --field name="epic-1.3" \
    --field description="Epic 1.3: æœ€åˆã®å…±æœ‰çŸ¥è²¡ç”£å‰µé€ " \
    --field color="EDE9FE" > /dev/null 2>&1 || true

echo_success "Epicç”¨ãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ã—ã¾ã—ãŸ"

# Epic Issues ã®ä½œæˆ
echo_info "Phase 1 ã®Epic Issueã‚’ä½œæˆä¸­..."

# Epic 1.1: AIå¯ºå­å±‹åŸºç›¤æ•´å‚™
echo_epic "Epic 1.1: AIå¯ºå­å±‹åŸºç›¤æ•´å‚™ã‚’ä½œæˆä¸­..."
gh issue create \
    --title "[Phase1] AIå¯ºå­å±‹åŸºç›¤æ•´å‚™: èª°ã‚‚ãŒå®‰å¿ƒã—ã¦å­¦ã¹ã‚‹å ´ã¥ãã‚Š" \
    --label "epic,epic-1.1,area: å¯ºå­å±‹,priority: high" \
    --milestone "Phase 1: é»æ˜æœŸ - AIå¯ºå­å±‹ã®é–‹æ ¡" \
    --body "$(cat <<'EOF'
# ğŸ¯ ã“ã®EpicãŒç›®æŒ‡ã™ã‚‚ã®

ç¶™ç¶šçš„ã«é–‹å‚¬ã§ãã‚‹ AIå¯ºå­å±‹ã®ä»•çµ„ã¿ã‚’ä½œã‚Šã€åœ°åŸŸã®èª°ã‚‚ãŒå®‰å¿ƒã—ã¦AIãƒ»ITæŠ€è¡“ã«è§¦ã‚Œã‚‰ã‚Œã‚‹å ´ã‚’ç¢ºç«‹ã—ã¾ã™ã€‚

æ±Ÿæˆ¸æ™‚ä»£ã®å¯ºå­å±‹ã®ã‚ˆã†ã«ã€å¹´é½¢ã‚„è·æ¥­ã€æŠ€è¡“ãƒ¬ãƒ™ãƒ«ã«é–¢ã‚ã‚‰ãšã€èª°ã‚‚ãŒæ°—è»½ã«ç«‹ã¡å¯„ã£ã¦å­¦ã³ã€ä»²é–“ã¨å‡ºä¼šãˆã‚‹ç¾ä»£ã®ã€Œå­¦ã³ã®åºƒå ´ã€ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

## ğŸ“‹ å«ã¾ã‚Œã‚‹ä¸»è¦ã‚¿ã‚¹ã‚¯

- [ ] ç¬¬2å›AIå¯ºå­å±‹ã®ä¼ç”»ãƒ»æº–å‚™
- [ ] ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ
- [ ] å‚åŠ è€…ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†ã‚·ã‚¹ãƒ†ãƒ 
- [ ] å¯ºå­å±‹é‹å–¶ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®æ•´å‚™
- [ ] ç¶™ç¶šå‚åŠ ã‚’ä¿ƒã™ä»•çµ„ã¿ã¥ãã‚Š
- [ ] ãƒ¡ãƒ³ã‚¿ãƒ¼ãƒ»ã‚µãƒãƒ¼ã‚¿ãƒ¼åˆ¶åº¦ã®æ¤œè¨

## ğŸ æˆåŠŸæŒ‡æ¨™

- **ç¶™ç¶šæ€§**: æœˆ1å›ã®å®šæœŸé–‹å‚¬ãŒå®Ÿç¾ã—ã¦ã„ã‚‹
- **é­…åŠ›åº¦**: å‚åŠ è€…ãŒè‡ªã‚‰æ¬¡ã®äººã‚’èª˜ã„ãŸããªã‚‹å ´ã«ãªã£ã¦ã„ã‚‹  
- **æŒç¶šæ€§**: é‹å–¶å´ã®è² è·ãŒæŒç¶šå¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã«åã¾ã£ã¦ã„ã‚‹
- **å¤šæ§˜æ€§**: æ§˜ã€…ãªå¹´ä»£ãƒ»è·æ¥­ã®äººãŒå‚åŠ ã—ã¦ã„ã‚‹
- **æˆé•·æ€§**: å‚åŠ è€…ã®ã‚¹ã‚­ãƒ«å‘ä¸ŠãŒå®Ÿæ„Ÿã§ãã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- **é–‹å§‹**: 2025å¹´9æœˆ
- **å®Œäº†äºˆå®š**: 2026å¹´2æœˆ
- **ä¸­é–“ãƒã‚§ãƒƒã‚¯**: 2025å¹´12æœˆ

## ğŸŒŸ åœ°åŸŸã¸ã®ä¾¡å€¤

ã“ã®EpicãŒå®Œæˆã™ã‚‹ã¨ï¼š
- åœ°åŸŸã«AIãƒ»ITäººæè‚²æˆã®æ‹ ç‚¹ãŒã§ãã‚‹
- ä¸–ä»£ã‚’è¶…ãˆãŸå­¦ç¿’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒç”Ÿã¾ã‚Œã‚‹
- ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ‡ãƒã‚¤ãƒ‰ã®è§£æ¶ˆã«è²¢çŒ®ã™ã‚‹
- åœ°åŸŸçµŒæ¸ˆã®åº•ä¸Šã’ã«ã¤ãªãŒã‚‹åŸºç›¤ãŒã§ãã‚‹

## ğŸ“ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ§‹é€ ](../community-structure.md#ï¼‘ï¼aiå¯ºå­å±‹ä»®ç¾ä»£ã®èª­ã¿æ›¸ããã‚ã°ã‚“ã‚’å­¦ã¶å ´)
- [ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— Phase 1](../roadmap.md#phase-1-é»æ˜æœŸ---æœ€åˆã®èˆ¹å‡ºã¨ä»²é–“é›†ã‚-é–‹å§‹6ãƒ¶æœˆ)
EOF
)" > /dev/null

echo_success "Epic 1.1 ã‚’ä½œæˆã—ã¾ã—ãŸ"

# Epic 1.2: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åŸºç›¤æ§‹ç¯‰
echo_epic "Epic 1.2: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åŸºç›¤æ§‹ç¯‰ã‚’ä½œæˆä¸­..."
gh issue create \
    --title "[Phase1] ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åŸºç›¤æ§‹ç¯‰: GitHub + Discord ã§å”åŠ›ã™ã‚‹ä»•çµ„ã¿" \
    --label "epic,epic-1.2,area: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£,priority: high" \
    --milestone "Phase 1: é»æ˜æœŸ - AIå¯ºå­å±‹ã®é–‹æ ¡" \
    --body "$(cat <<'EOF'
# ğŸ¯ ã“ã®EpicãŒç›®æŒ‡ã™ã‚‚ã®

GitHub + Discord ã§ã®å”åŠ›ä½“åˆ¶ã‚’ç¢ºç«‹ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æœªçµŒé¨“è€…ã§ã‚‚å®‰å¿ƒã—ã¦è²¢çŒ®ã§ãã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£åŸºç›¤ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

OSSï¼ˆã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ï¼‰ã®æ–‡åŒ–ã‚’å–ã‚Šå…¥ã‚ŒãªãŒã‚‰ã€æŠ€è¡“çš„ãƒãƒ¼ãƒ‰ãƒ«ã‚’ä¸‹ã’ã€èª°ã‚‚ãŒã€Œå…±æœ‰çŸ¥ã®è²¡ç”£ã€ã¥ãã‚Šã«å‚åŠ ã§ãã‚‹ç’°å¢ƒã‚’æ•´ãˆã¾ã™ã€‚

## ğŸ“‹ å«ã¾ã‚Œã‚‹ä¸»è¦ã‚¿ã‚¹ã‚¯

- [ ] Issue/PR ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ•´å‚™
- [ ] Discord ãƒãƒ£ãƒ³ãƒãƒ«æ§‹é€ ã®è¨­è¨ˆãƒ»é‹ç”¨é–‹å§‹
- [ ] åˆå¿ƒè€…å‘ã‘GitHubæ´»ç”¨ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ
- [ ] ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ•ãƒ­ãƒ¼ã®æ–‡æ›¸åŒ–
- [ ] Discord â†” GitHub é€£æºãƒ•ãƒ­ãƒ¼ã®ç¢ºç«‹
- [ ] ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚µãƒãƒ¼ãƒˆä½“åˆ¶ã®æ•´å‚™

## ğŸ æˆåŠŸæŒ‡æ¨™

- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æœªçµŒé¨“è€…ã§ã‚‚ Issue ã‚’ç«‹ã¦ã‚‰ã‚Œã‚‹
- **è‡ªç„¶ãªæµã‚Œ**: Discord ã§ã®ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãªç›¸è«‡ã‹ã‚‰ GitHub ã§ã®å…·ä½“çš„ææ¡ˆã¸ã®æ©‹æ¸¡ã—ãŒã§ãã¦ã„ã‚‹
- **æ´»ç™ºæ€§**: é€±ã«2-3ä»¶ã®æ–°ã—ã„ Issueãƒ»PR ãŒç”Ÿã¾ã‚Œã¦ã„ã‚‹
- **ã‚µãƒãƒ¼ãƒˆæ€§**: å›°ã£ãŸäººãŒ24æ™‚é–“ä»¥å†…ã«åŠ©ã‘ã‚’å¾—ã‚‰ã‚Œã‚‹ä½“åˆ¶ãŒã§ãã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- **é–‹å§‹**: 2025å¹´9æœˆ
- **å®Œäº†äºˆå®š**: 2025å¹´12æœˆ
- **ä¸­é–“ãƒã‚§ãƒƒã‚¯**: 2025å¹´10æœˆ

## ğŸŒŸ åœ°åŸŸã¸ã®ä¾¡å€¤

ã“ã®EpicãŒå®Œæˆã™ã‚‹ã¨ï¼š
- åœ°åŸŸã®ã€Œå›°ã‚Šã”ã¨ã€ãŒå¯è¦–åŒ–ã•ã‚Œã€è§£æ±ºç­–ãŒç”Ÿã¾ã‚Œã‚„ã™ããªã‚‹
- ä¸–ä»£ã‚’è¶…ãˆãŸãƒ‡ã‚¸ã‚¿ãƒ«å”åƒã®æ–‡åŒ–ãŒæ ¹ä»˜ã
- åœ°åŸŸã®çŸ¥æµãŒæ•£é€¸ã›ãšã€è“„ç©ãƒ»å…±æœ‰ã•ã‚Œã‚‹ä»•çµ„ã¿ãŒã§ãã‚‹

## ğŸ“ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è²¢çŒ®ã‚¬ã‚¤ãƒ‰](../contributing.md)
- [GitHubè¨­å®šã‚¬ã‚¤ãƒ‰](../github-setup.md)
EOF
)" > /dev/null

echo_success "Epic 1.2 ã‚’ä½œæˆã—ã¾ã—ãŸ"

# Epic 1.3: æœ€åˆã®å…±æœ‰çŸ¥è²¡ç”£å‰µé€ 
echo_epic "Epic 1.3: æœ€åˆã®å…±æœ‰çŸ¥è²¡ç”£å‰µé€ ã‚’ä½œæˆä¸­..."
gh issue create \
    --title "[Phase1] æœ€åˆã®å…±æœ‰çŸ¥è²¡ç”£å‰µé€ : contract-templates v1.0 ã®ä¸–ç•Œãƒªãƒªãƒ¼ã‚¹" \
    --label "epic,epic-1.3,area: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ,priority: medium" \
    --milestone "contract-templates v1.0" \
    --body "$(cat <<'EOF'
# ğŸ¯ ã“ã®EpicãŒç›®æŒ‡ã™ã‚‚ã®

contract-templates v1.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã€åœ°åŸŸã®äº‹æ¥­è€…ãŒå®Ÿéš›ã«ä½¿ãˆã‚‹ã€Œå…±æœ‰çŸ¥ã®è²¡ç”£ã€ç¬¬1å¼¾ã‚’ä¸–ã«é€ã‚Šå‡ºã—ã¾ã™ã€‚

å˜ãªã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†ã§ã¯ãªãã€æ³•çš„ãªå®‰å…¨æ€§ã¨å®Ÿç”¨æ€§ã‚’ä¸¡ç«‹ã—ã€èª°ã‚‚ãŒå®‰å¿ƒã—ã¦åˆ©ç”¨ã§ãã‚‹å“è³ªã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

## ğŸ“‹ å«ã¾ã‚Œã‚‹ä¸»è¦ã‚¿ã‚¹ã‚¯

- [ ] åœ°åŸŸã®ãƒ‹ãƒ¼ã‚ºèª¿æŸ»ï¼ˆã©ã‚“ãªå¥‘ç´„æ›¸ãŒå¿…è¦ï¼Ÿï¼‰
- [ ] åŸºæœ¬çš„ãªå¥‘ç´„æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆ5ç¨®é¡ä»¥ä¸Šï¼‰
- [ ] æ³•çš„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒã‚§ãƒƒã‚¯ä½“åˆ¶ã®æ§‹ç¯‰
- [ ] åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚±ãƒ¼ã‚¹ä½œæˆ
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆåˆ©ç”¨ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†
- [ ] v1.0 æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã¨ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ æˆåŠŸæŒ‡æ¨™

- **å“è³ª**: æ³•çš„ã«å•é¡Œã®ãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ5ç¨®é¡ä»¥ä¸Šå®Œæˆã—ã¦ã„ã‚‹
- **å®Ÿç”¨æ€§**: å®Ÿéš›ã«åœ°åŸŸã®äº‹æ¥­è€…ãŒä½¿ç”¨ã—ã¦ã„ã‚‹äº‹ä¾‹ãŒ1ä»¶ä»¥ä¸Šã‚ã‚‹
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: å°‚é–€çŸ¥è­˜ãŒãªãã¦ã‚‚ä½¿ãˆã‚‹ã‚¬ã‚¤ãƒ‰ãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹
- **æŒç¶šæ€§**: ç¶™ç¶šçš„ã«æ”¹å–„ãƒ»è¿½åŠ ã§ãã‚‹ä»•çµ„ã¿ãŒã§ãã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- **é–‹å§‹**: 2025å¹´10æœˆ
- **å®Œäº†äºˆå®š**: 2026å¹´3æœˆ
- **ä¸­é–“ãƒã‚§ãƒƒã‚¯**: 2025å¹´12æœˆã€2026å¹´1æœˆ

## ğŸŒŸ åœ°åŸŸã¸ã®ä¾¡å€¤

ã“ã®EpicãŒå®Œæˆã™ã‚‹ã¨ï¼š
- ä¸­å°ä¼æ¥­ãƒ»å€‹äººäº‹æ¥­ä¸»ã®æ³•å‹™ã‚³ã‚¹ãƒˆãŒå‰Šæ¸›ã•ã‚Œã‚‹
- å¥‘ç´„æ›¸ä½œæˆã®ãƒãƒ¼ãƒ‰ãƒ«ãŒä¸‹ãŒã‚Šã€äº‹æ¥­é–‹å§‹ãŒå®¹æ˜“ã«ãªã‚‹
- åœ°åŸŸå…¨ä½“ã®ãƒ“ã‚¸ãƒã‚¹åŸºç›¤ãŒå‘ä¸Šã™ã‚‹
- ã€Œå…±æœ‰çŸ¥ã®è²¡ç”£ã€ã¨ã„ã†æ¦‚å¿µãŒå…·ä½“çš„ãªå½¢ã«ãªã‚‹

## ğŸ“ é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— Phase 1](../roadmap.md#ä¸»ãªç›®æ¨™)
- [æ”¹å–„é …ç›®ä¸€è¦§](../improvements-backlog.md#4-æœ€åˆã®å…±æœ‰çŸ¥ã®è²¡ç”£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®šç¾©)
EOF
)" > /dev/null

echo_success "Epic 1.3 ã‚’ä½œæˆã—ã¾ã—ãŸ"

# GitHub Projects ã®ä½œæˆã‚’ææ¡ˆ
echo ""
echo_success "ğŸ‰ Epic ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"
echo_info "ä½œæˆã•ã‚ŒãŸEpicæ•°: 3"
echo ""
echo_info "æ¨å¥¨ã•ã‚Œã‚‹æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:"
echo "  1. GitHub Projects ã§ Epic ç®¡ç†ç”¨ã®ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆ"
echo "  2. Discord ã« Epic å°‚ç”¨ãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¨­ç½®"
echo "  3. å„ Epic ã«å…·ä½“çš„ãª Issue ã‚’è¿½åŠ ã—ã¦ã„ã"
echo ""
echo_info "GitHub Projects ä½œæˆã‚³ãƒãƒ³ãƒ‰ä¾‹:"
echo "  gh project create --title 'Phase 1 Epic Management' --body 'Phase 1ã®3ã¤ã®Epicã‚’ç®¡ç†ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒœãƒ¼ãƒ‰'"